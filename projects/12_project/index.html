<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Custom Shell Command Processor | Armin Ziaei </title> <meta name="author" content="Armin Ziaei"> <meta name="description" content="Comprehensive Bash command-line interface in Unix environment"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <meta property="og:site_name" content="Armin Ziaei"> <meta property="og:type" content="website"> <meta property="og:title" content="Armin Ziaei | Custom Shell Command Processor"> <meta property="og:url" content="https://armixz.github.io/projects/12_project/"> <meta property="og:description" content="Comprehensive Bash command-line interface in Unix environment"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Custom Shell Command Processor"> <meta name="twitter:description" content="Comprehensive Bash command-line interface in Unix environment"> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Armin Ziaei"
        },
        "url": "https://armixz.github.io/projects/12_project/",
        "@type": "WebSite",
        "description": "Comprehensive Bash command-line interface in Unix environment",
        "headline": "Custom Shell Command Processor",
        
        "sameAs": ["https://github.com/armixz", "https://www.linkedin.com/in/armin-ziaei-9594748b"],
        
        "name": "Armin Ziaei",
        "@context": "https://schema.org"
    }
  </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%8C%B3&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://armixz.github.io/projects/12_project/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Armin</span> Ziaei </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">solutions </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">CLRS</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">Project Euler</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">LeetCode</a> </div> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Custom Shell Command Processor</h1> <p class="post-description">Comprehensive Bash command-line interface in Unix environment</p> </header> <article> <h2 id="project-overview">Project Overview</h2> <p>Developed a <strong>comprehensive Bash command-line interface application</strong> in a Unix environment using shell scripting and system programming in <strong>Fall 2018</strong>. The implementation features custom command parsing, input validation, and process management capabilities, enhancing system interaction efficiency by streamlining command processing, automating task execution, and improving user experience for routine administrative operations.</p> <h2 id="shell-architecture-design">Shell Architecture Design</h2> <h3 id="core-components">Core Components</h3> <ul> <li> <strong>Command Parser</strong>: Tokenization and syntax analysis</li> <li> <strong>Process Manager</strong>: Fork/exec process creation and management</li> <li> <strong>Built-in Commands</strong>: Internal command implementations</li> <li> <strong>I/O Redirection</strong>: File input/output handling</li> <li> <strong>Pipeline Support</strong>: Command chaining with pipes</li> <li> <strong>Job Control</strong>: Background/foreground process management</li> </ul> <h3 id="system-integration">System Integration</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>User Input → Command Parser → Process Manager → System Calls
     ↑             ↓              ↓              ↓
  Prompt    Built-in Check   Fork/Exec      Kernel
Generator      ↓              ↓              ↓
     ↑      External Cmd   Wait/Signal   Process
  Output ← I/O Redirection ← Job Control ← Execution
</code></pre></div></div> <h2 id="command-parser-implementation">Command Parser Implementation</h2> <h3 id="lexical-analysis">Lexical Analysis</h3> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;unistd.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;sys/wait.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;sys/types.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;fcntl.h&gt;</span><span class="cp">
</span>
<span class="cp">#define MAX_CMD_LEN 1024
#define MAX_ARGS 64
#define MAX_JOBS 64
</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
    <span class="n">TOKEN_WORD</span><span class="p">,</span>
    <span class="n">TOKEN_PIPE</span><span class="p">,</span>
    <span class="n">TOKEN_REDIRECT_IN</span><span class="p">,</span>
    <span class="n">TOKEN_REDIRECT_OUT</span><span class="p">,</span>
    <span class="n">TOKEN_REDIRECT_APPEND</span><span class="p">,</span>
    <span class="n">TOKEN_BACKGROUND</span><span class="p">,</span>
    <span class="n">TOKEN_EOF</span>
<span class="p">}</span> <span class="n">token_type_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">token_type_t</span> <span class="n">type</span><span class="p">;</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">value</span><span class="p">;</span>
<span class="p">}</span> <span class="n">token_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">char</span><span class="o">**</span> <span class="n">args</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">argc</span><span class="p">;</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">input_file</span><span class="p">;</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">output_file</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">append_output</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">background</span><span class="p">;</span>
<span class="p">}</span> <span class="n">command_t</span><span class="p">;</span>

<span class="c1">// Tokenize input string</span>
<span class="n">token_t</span><span class="o">*</span> <span class="nf">tokenize</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">input</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">token_count</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">token_t</span><span class="o">*</span> <span class="n">tokens</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">MAX_ARGS</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">token_t</span><span class="p">));</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">token_str</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="c1">// Handle special characters and operators</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">special_chars</span> <span class="o">=</span> <span class="s">"|&lt;&gt;&amp;"</span><span class="p">;</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">current</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>
    
    <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">current</span> <span class="o">&amp;&amp;</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="n">MAX_ARGS</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Skip whitespace</span>
        <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">current</span> <span class="o">==</span> <span class="sc">' '</span> <span class="o">||</span> <span class="o">*</span><span class="n">current</span> <span class="o">==</span> <span class="sc">'\t'</span><span class="p">)</span> <span class="n">current</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">current</span> <span class="o">==</span> <span class="sc">'\0'</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
        
        <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">value</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">current</span> <span class="o">==</span> <span class="sc">'|'</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">type</span> <span class="o">=</span> <span class="n">TOKEN_PIPE</span><span class="p">;</span>
            <span class="n">strcpy</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">value</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
            <span class="n">current</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">current</span> <span class="o">==</span> <span class="sc">'&lt;'</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">type</span> <span class="o">=</span> <span class="n">TOKEN_REDIRECT_IN</span><span class="p">;</span>
            <span class="n">strcpy</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">value</span><span class="p">,</span> <span class="s">"&lt;"</span><span class="p">);</span>
            <span class="n">current</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">current</span> <span class="o">==</span> <span class="sc">'&gt;'</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">current</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="sc">'&gt;'</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">type</span> <span class="o">=</span> <span class="n">TOKEN_REDIRECT_APPEND</span><span class="p">;</span>
                <span class="n">strcpy</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">value</span><span class="p">,</span> <span class="s">"&gt;&gt;"</span><span class="p">);</span>
                <span class="n">current</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">type</span> <span class="o">=</span> <span class="n">TOKEN_REDIRECT_OUT</span><span class="p">;</span>
                <span class="n">strcpy</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">value</span><span class="p">,</span> <span class="s">"&gt;"</span><span class="p">);</span>
                <span class="n">current</span><span class="o">++</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">current</span> <span class="o">==</span> <span class="sc">'&amp;'</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">type</span> <span class="o">=</span> <span class="n">TOKEN_BACKGROUND</span><span class="p">;</span>
            <span class="n">strcpy</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">value</span><span class="p">,</span> <span class="s">"&amp;"</span><span class="p">);</span>
            <span class="n">current</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// Regular word token</span>
            <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">type</span> <span class="o">=</span> <span class="n">TOKEN_WORD</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            
            <span class="c1">// Handle quoted strings</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">current</span> <span class="o">==</span> <span class="sc">'"'</span> <span class="o">||</span> <span class="o">*</span><span class="n">current</span> <span class="o">==</span> <span class="sc">'\''</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">char</span> <span class="n">quote</span> <span class="o">=</span> <span class="o">*</span><span class="n">current</span><span class="o">++</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">current</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="n">current</span> <span class="o">!=</span> <span class="n">quote</span> <span class="o">&amp;&amp;</span> <span class="n">pos</span> <span class="o">&lt;</span> <span class="mi">255</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">value</span><span class="p">[</span><span class="n">pos</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="o">*</span><span class="n">current</span><span class="o">++</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">current</span> <span class="o">==</span> <span class="n">quote</span><span class="p">)</span> <span class="n">current</span><span class="o">++</span><span class="p">;</span> <span class="c1">// Skip closing quote</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="c1">// Regular word</span>
                <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">current</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="n">current</span> <span class="o">!=</span> <span class="sc">' '</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="n">current</span> <span class="o">!=</span> <span class="sc">'\t'</span> <span class="o">&amp;&amp;</span> 
                       <span class="o">!</span><span class="n">strchr</span><span class="p">(</span><span class="n">special_chars</span><span class="p">,</span> <span class="o">*</span><span class="n">current</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">pos</span> <span class="o">&lt;</span> <span class="mi">255</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">value</span><span class="p">[</span><span class="n">pos</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="o">*</span><span class="n">current</span><span class="o">++</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">value</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">count</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">// Add EOF token</span>
    <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">type</span> <span class="o">=</span> <span class="n">TOKEN_EOF</span><span class="p">;</span>
    <span class="n">tokens</span><span class="p">[</span><span class="n">count</span><span class="p">].</span><span class="n">value</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    
    <span class="o">*</span><span class="n">token_count</span> <span class="o">=</span> <span class="n">count</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">tokens</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="command-structure-parsing">Command Structure Parsing</h3> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Parse tokens into command structure</span>
<span class="n">command_t</span><span class="o">*</span> <span class="nf">parse_command</span><span class="p">(</span><span class="n">token_t</span><span class="o">*</span> <span class="n">tokens</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">cmd_count</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">command_t</span><span class="o">*</span> <span class="n">commands</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">MAX_ARGS</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">command_t</span><span class="p">));</span>
    <span class="kt">int</span> <span class="n">current_cmd</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">token_idx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="c1">// Initialize first command</span>
    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">args</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">MAX_ARGS</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">));</span>
    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">argc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">input_file</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">output_file</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">append_output</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">background</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="k">while</span> <span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">token_idx</span><span class="p">].</span><span class="n">type</span> <span class="o">!=</span> <span class="n">TOKEN_EOF</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">token_idx</span><span class="p">].</span><span class="n">type</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="n">TOKEN_WORD</span><span class="p">:</span>
                <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">args</span><span class="p">[</span><span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">argc</span><span class="p">]</span> <span class="o">=</span> 
                    <span class="n">strdup</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">token_idx</span><span class="p">].</span><span class="n">value</span><span class="p">);</span>
                <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">argc</span><span class="o">++</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
                
            <span class="k">case</span> <span class="n">TOKEN_PIPE</span><span class="p">:</span>
                <span class="c1">// Null-terminate current command args</span>
                <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">args</span><span class="p">[</span><span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">argc</span><span class="p">]</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
                
                <span class="c1">// Start new command</span>
                <span class="n">current_cmd</span><span class="o">++</span><span class="p">;</span>
                <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">args</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">MAX_ARGS</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">));</span>
                <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">argc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">input_file</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
                <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">output_file</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
                <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">append_output</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">background</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
                
            <span class="k">case</span> <span class="n">TOKEN_REDIRECT_IN</span><span class="p">:</span>
                <span class="n">token_idx</span><span class="o">++</span><span class="p">;</span> <span class="c1">// Move to filename</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">token_idx</span><span class="p">].</span><span class="n">type</span> <span class="o">==</span> <span class="n">TOKEN_WORD</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">input_file</span> <span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">token_idx</span><span class="p">].</span><span class="n">value</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">break</span><span class="p">;</span>
                
            <span class="k">case</span> <span class="n">TOKEN_REDIRECT_OUT</span><span class="p">:</span>
                <span class="n">token_idx</span><span class="o">++</span><span class="p">;</span> <span class="c1">// Move to filename</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">token_idx</span><span class="p">].</span><span class="n">type</span> <span class="o">==</span> <span class="n">TOKEN_WORD</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">output_file</span> <span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">token_idx</span><span class="p">].</span><span class="n">value</span><span class="p">);</span>
                    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">append_output</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">break</span><span class="p">;</span>
                
            <span class="k">case</span> <span class="n">TOKEN_REDIRECT_APPEND</span><span class="p">:</span>
                <span class="n">token_idx</span><span class="o">++</span><span class="p">;</span> <span class="c1">// Move to filename</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">token_idx</span><span class="p">].</span><span class="n">type</span> <span class="o">==</span> <span class="n">TOKEN_WORD</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">output_file</span> <span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">token_idx</span><span class="p">].</span><span class="n">value</span><span class="p">);</span>
                    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">append_output</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">break</span><span class="p">;</span>
                
            <span class="k">case</span> <span class="n">TOKEN_BACKGROUND</span><span class="p">:</span>
                <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">background</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">token_idx</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">// Null-terminate final command args</span>
    <span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">args</span><span class="p">[</span><span class="n">commands</span><span class="p">[</span><span class="n">current_cmd</span><span class="p">].</span><span class="n">argc</span><span class="p">]</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    
    <span class="o">*</span><span class="n">cmd_count</span> <span class="o">=</span> <span class="n">current_cmd</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">commands</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="built-in-command-implementation">Built-in Command Implementation</h2> <h3 id="core-built-in-commands">Core Built-in Commands</h3> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Built-in command structure</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">name</span><span class="p">;</span>
    <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">function</span><span class="p">)(</span><span class="kt">char</span><span class="o">**</span> <span class="n">args</span><span class="p">);</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">description</span><span class="p">;</span>
<span class="p">}</span> <span class="n">builtin_t</span><span class="p">;</span>

<span class="c1">// Built-in command implementations</span>
<span class="kt">int</span> <span class="nf">builtin_cd</span><span class="p">(</span><span class="kt">char</span><span class="o">**</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// No argument, change to home directory</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">home</span> <span class="o">=</span> <span class="n">getenv</span><span class="p">(</span><span class="s">"HOME"</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">home</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"cd: HOME not set</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">chdir</span><span class="p">(</span><span class="n">home</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">perror</span><span class="p">(</span><span class="s">"cd"</span><span class="p">);</span>
            <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">chdir</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">perror</span><span class="p">(</span><span class="s">"cd"</span><span class="p">);</span>
            <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">builtin_pwd</span><span class="p">(</span><span class="kt">char</span><span class="o">**</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">cwd</span><span class="p">[</span><span class="mi">1024</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">getcwd</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">cwd</span><span class="p">))</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">cwd</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">perror</span><span class="p">(</span><span class="s">"pwd"</span><span class="p">);</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">builtin_echo</span><span class="p">(</span><span class="kt">char</span><span class="o">**</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="n">printf</span><span class="p">(</span><span class="s">" "</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">builtin_export</span><span class="p">(</span><span class="kt">char</span><span class="o">**</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Print all environment variables</span>
        <span class="k">extern</span> <span class="kt">char</span><span class="o">**</span> <span class="n">environ</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">environ</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"export %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">environ</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Set environment variable</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">eq_pos</span> <span class="o">=</span> <span class="n">strchr</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="sc">'='</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">eq_pos</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
            <span class="o">*</span><span class="n">eq_pos</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>
            <span class="kt">char</span><span class="o">*</span> <span class="n">name</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
            <span class="kt">char</span><span class="o">*</span> <span class="n">value</span> <span class="o">=</span> <span class="n">eq_pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="n">setenv</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">perror</span><span class="p">(</span><span class="s">"export"</span><span class="p">);</span>
                <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"export: invalid format</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">builtin_history</span><span class="p">(</span><span class="kt">char</span><span class="o">**</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">extern</span> <span class="kt">char</span><span class="o">**</span> <span class="n">command_history</span><span class="p">;</span>
    <span class="k">extern</span> <span class="kt">int</span> <span class="n">history_count</span><span class="p">;</span>
    
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">history_count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"%4d  %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">command_history</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">builtin_jobs</span><span class="p">(</span><span class="kt">char</span><span class="o">**</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">extern</span> <span class="n">job_t</span> <span class="n">jobs</span><span class="p">[];</span>
    <span class="k">extern</span> <span class="kt">int</span> <span class="n">job_count</span><span class="p">;</span>
    
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">job_count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">jobs</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">active</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"[%d]  %s  %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> 
                   <span class="n">jobs</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">background</span> <span class="o">?</span> <span class="s">"Running"</span> <span class="o">:</span> <span class="s">"Stopped"</span><span class="p">,</span>
                   <span class="n">jobs</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">command</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">builtin_exit</span><span class="p">(</span><span class="kt">char</span><span class="o">**</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Clean up and exit</span>
    <span class="n">cleanup_shell</span><span class="p">();</span>
    <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Built-in command table</span>
<span class="n">builtin_t</span> <span class="n">builtins</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">{</span><span class="s">"cd"</span><span class="p">,</span> <span class="n">builtin_cd</span><span class="p">,</span> <span class="s">"Change directory"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"pwd"</span><span class="p">,</span> <span class="n">builtin_pwd</span><span class="p">,</span> <span class="s">"Print working directory"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"echo"</span><span class="p">,</span> <span class="n">builtin_echo</span><span class="p">,</span> <span class="s">"Display text"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"export"</span><span class="p">,</span> <span class="n">builtin_export</span><span class="p">,</span> <span class="s">"Set environment variable"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"history"</span><span class="p">,</span> <span class="n">builtin_history</span><span class="p">,</span> <span class="s">"Show command history"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"jobs"</span><span class="p">,</span> <span class="n">builtin_jobs</span><span class="p">,</span> <span class="s">"List active jobs"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"exit"</span><span class="p">,</span> <span class="n">builtin_exit</span><span class="p">,</span> <span class="s">"Exit shell"</span><span class="p">},</span>
    <span class="p">{</span><span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Check if command is built-in</span>
<span class="kt">int</span> <span class="nf">execute_builtin</span><span class="p">(</span><span class="kt">char</span><span class="o">**</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">builtins</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">builtins</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">builtins</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">function</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// Not a built-in command</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="process-management">Process Management</h2> <h3 id="forkexec-implementation">Fork/Exec Implementation</h3> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Job control structure</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">pid_t</span> <span class="n">pid</span><span class="p">;</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">command</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">background</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">active</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">job_id</span><span class="p">;</span>
<span class="p">}</span> <span class="n">job_t</span><span class="p">;</span>

<span class="n">job_t</span> <span class="n">jobs</span><span class="p">[</span><span class="n">MAX_JOBS</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">job_count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">// Execute external command</span>
<span class="kt">int</span> <span class="nf">execute_external</span><span class="p">(</span><span class="n">command_t</span><span class="o">*</span> <span class="n">cmd</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">pid_t</span> <span class="n">pid</span> <span class="o">=</span> <span class="n">fork</span><span class="p">();</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">pid</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Child process</span>
        
        <span class="c1">// Handle input redirection</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="o">-&gt;</span><span class="n">input_file</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">fd</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">cmd</span><span class="o">-&gt;</span><span class="n">input_file</span><span class="p">,</span> <span class="n">O_RDONLY</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">fd</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">perror</span><span class="p">(</span><span class="s">"input redirection"</span><span class="p">);</span>
                <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">dup2</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">STDIN_FILENO</span><span class="p">);</span>
            <span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
        <span class="p">}</span>
        
        <span class="c1">// Handle output redirection</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="o">-&gt;</span><span class="n">output_file</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">flags</span> <span class="o">=</span> <span class="n">O_WRONLY</span> <span class="o">|</span> <span class="n">O_CREAT</span><span class="p">;</span>
            <span class="n">flags</span> <span class="o">|=</span> <span class="n">cmd</span><span class="o">-&gt;</span><span class="n">append_output</span> <span class="o">?</span> <span class="n">O_APPEND</span> <span class="o">:</span> <span class="n">O_TRUNC</span><span class="p">;</span>
            
            <span class="kt">int</span> <span class="n">fd</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">cmd</span><span class="o">-&gt;</span><span class="n">output_file</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="mo">0644</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">fd</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">perror</span><span class="p">(</span><span class="s">"output redirection"</span><span class="p">);</span>
                <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">dup2</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">STDOUT_FILENO</span><span class="p">);</span>
            <span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
        <span class="p">}</span>
        
        <span class="c1">// Execute command</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">execvp</span><span class="p">(</span><span class="n">cmd</span><span class="o">-&gt;</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cmd</span><span class="o">-&gt;</span><span class="n">args</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">perror</span><span class="p">(</span><span class="n">cmd</span><span class="o">-&gt;</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
            <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">pid</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">perror</span><span class="p">(</span><span class="s">"fork"</span><span class="p">);</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Parent process</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">cmd</span><span class="o">-&gt;</span><span class="n">background</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Foreground job - wait for completion</span>
            <span class="kt">int</span> <span class="n">status</span><span class="p">;</span>
            <span class="n">waitpid</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">status</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
            <span class="k">return</span> <span class="n">WEXITSTATUS</span><span class="p">(</span><span class="n">status</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// Background job - add to job list</span>
            <span class="n">add_job</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">create_command_string</span><span class="p">(</span><span class="n">cmd</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"[%d] %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">job_count</span><span class="p">,</span> <span class="n">pid</span><span class="p">);</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="pipeline-implementation">Pipeline Implementation</h3> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Execute pipeline of commands</span>
<span class="kt">int</span> <span class="nf">execute_pipeline</span><span class="p">(</span><span class="n">command_t</span><span class="o">*</span> <span class="n">commands</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cmd_count</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">pipefds</span><span class="p">[</span><span class="n">cmd_count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">pid_t</span> <span class="n">pids</span><span class="p">[</span><span class="n">cmd_count</span><span class="p">];</span>
    
    <span class="c1">// Create pipes</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cmd_count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">pipe</span><span class="p">(</span><span class="n">pipefds</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">perror</span><span class="p">(</span><span class="s">"pipe"</span><span class="p">);</span>
            <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="c1">// Execute each command in pipeline</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cmd_count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">pids</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">fork</span><span class="p">();</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">pids</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Child process</span>
            
            <span class="c1">// Set up input (from previous pipe or file)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">dup2</span><span class="p">(</span><span class="n">pipefds</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">STDIN_FILENO</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">commands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">input_file</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">fd</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">commands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">input_file</span><span class="p">,</span> <span class="n">O_RDONLY</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">fd</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">perror</span><span class="p">(</span><span class="s">"input redirection"</span><span class="p">);</span>
                    <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="n">dup2</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">STDIN_FILENO</span><span class="p">);</span>
                <span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
            <span class="p">}</span>
            
            <span class="c1">// Set up output (to next pipe or file)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">cmd_count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">dup2</span><span class="p">(</span><span class="n">pipefds</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">STDOUT_FILENO</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">commands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">output_file</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">flags</span> <span class="o">=</span> <span class="n">O_WRONLY</span> <span class="o">|</span> <span class="n">O_CREAT</span><span class="p">;</span>
                <span class="n">flags</span> <span class="o">|=</span> <span class="n">commands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">append_output</span> <span class="o">?</span> <span class="n">O_APPEND</span> <span class="o">:</span> <span class="n">O_TRUNC</span><span class="p">;</span>
                
                <span class="kt">int</span> <span class="n">fd</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">commands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">output_file</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="mo">0644</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">fd</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">perror</span><span class="p">(</span><span class="s">"output redirection"</span><span class="p">);</span>
                    <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="n">dup2</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">STDOUT_FILENO</span><span class="p">);</span>
                <span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
            <span class="p">}</span>
            
            <span class="c1">// Close all pipe file descriptors</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">cmd_count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">close</span><span class="p">(</span><span class="n">pipefds</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
                <span class="n">close</span><span class="p">(</span><span class="n">pipefds</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
            <span class="p">}</span>
            
            <span class="c1">// Execute command</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">execvp</span><span class="p">(</span><span class="n">commands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">commands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">args</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">perror</span><span class="p">(</span><span class="n">commands</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
                <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">pids</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">perror</span><span class="p">(</span><span class="s">"fork"</span><span class="p">);</span>
            <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="c1">// Close all pipe file descriptors in parent</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cmd_count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">close</span><span class="p">(</span><span class="n">pipefds</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
        <span class="n">close</span><span class="p">(</span><span class="n">pipefds</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
    <span class="p">}</span>
    
    <span class="c1">// Wait for all processes (if foreground)</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">commands</span><span class="p">[</span><span class="n">cmd_count</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">background</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">status</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cmd_count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">waitpid</span><span class="p">(</span><span class="n">pids</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="o">&amp;</span><span class="n">status</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">WEXITSTATUS</span><span class="p">(</span><span class="n">status</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Add pipeline as background job</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">pipeline_cmd</span> <span class="o">=</span> <span class="n">create_pipeline_string</span><span class="p">(</span><span class="n">commands</span><span class="p">,</span> <span class="n">cmd_count</span><span class="p">);</span>
        <span class="n">add_job</span><span class="p">(</span><span class="n">pids</span><span class="p">[</span><span class="n">cmd_count</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">pipeline_cmd</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"[%d] %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">job_count</span><span class="p">,</span> <span class="n">pids</span><span class="p">[</span><span class="n">cmd_count</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="advanced-features">Advanced Features</h2> <h3 id="command-history">Command History</h3> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define HISTORY_SIZE 1000
</span>
<span class="kt">char</span><span class="o">*</span> <span class="n">command_history</span><span class="p">[</span><span class="n">HISTORY_SIZE</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">history_count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">history_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">// Add command to history</span>
<span class="kt">void</span> <span class="nf">add_to_history</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">command</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">history_count</span> <span class="o">&lt;</span> <span class="n">HISTORY_SIZE</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">command_history</span><span class="p">[</span><span class="n">history_count</span><span class="p">]</span> <span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="n">command</span><span class="p">);</span>
        <span class="n">history_count</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Circular buffer - overwrite oldest</span>
        <span class="n">free</span><span class="p">(</span><span class="n">command_history</span><span class="p">[</span><span class="n">history_index</span><span class="p">]);</span>
        <span class="n">command_history</span><span class="p">[</span><span class="n">history_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="n">command</span><span class="p">);</span>
        <span class="n">history_index</span> <span class="o">=</span> <span class="p">(</span><span class="n">history_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">HISTORY_SIZE</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// History expansion (!n, !!, !string)</span>
<span class="kt">char</span><span class="o">*</span> <span class="nf">expand_history</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">input</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">input</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">'!'</span><span class="p">)</span> <span class="k">return</span> <span class="n">strdup</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">input</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'!'</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// !! - repeat last command</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">history_count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">last_idx</span> <span class="o">=</span> <span class="p">(</span><span class="n">history_count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">HISTORY_SIZE</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">strdup</span><span class="p">(</span><span class="n">command_history</span><span class="p">[</span><span class="n">last_idx</span><span class="p">]);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">isdigit</span><span class="p">(</span><span class="n">input</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="p">{</span>
        <span class="c1">// !n - repeat command n</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="o">&amp;</span><span class="n">input</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="n">history_count</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">strdup</span><span class="p">(</span><span class="n">command_history</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// !string - repeat last command starting with string</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">search</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">input</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">history_count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">strncmp</span><span class="p">(</span><span class="n">command_history</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">search</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">search</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">strdup</span><span class="p">(</span><span class="n">command_history</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="n">strdup</span><span class="p">(</span><span class="n">input</span><span class="p">);</span> <span class="c1">// No expansion found</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="tab-completion">Tab Completion</h3> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;dirent.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;glob.h&gt;</span><span class="cp">
</span>
<span class="c1">// Simple tab completion for files and commands</span>
<span class="kt">char</span><span class="o">**</span> <span class="nf">complete_command</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">partial</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">count</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">char</span><span class="o">**</span> <span class="n">completions</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="mi">256</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">));</span>
    <span class="o">*</span><span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="c1">// Check if it's a path completion</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">strchr</span><span class="p">(</span><span class="n">partial</span><span class="p">,</span> <span class="sc">'/'</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// File/directory completion</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">dir_part</span> <span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="n">partial</span><span class="p">);</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">base_part</span> <span class="o">=</span> <span class="n">strrchr</span><span class="p">(</span><span class="n">dir_part</span><span class="p">,</span> <span class="sc">'/'</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">base_part</span><span class="p">)</span> <span class="p">{</span>
            <span class="o">*</span><span class="n">base_part</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>
            <span class="n">base_part</span><span class="o">++</span><span class="p">;</span>
            
            <span class="kt">DIR</span><span class="o">*</span> <span class="n">dir</span> <span class="o">=</span> <span class="n">opendir</span><span class="p">(</span><span class="n">dir_part</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">?</span> <span class="n">dir_part</span> <span class="o">:</span> <span class="s">"."</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">dir</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">struct</span> <span class="n">dirent</span><span class="o">*</span> <span class="n">entry</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">((</span><span class="n">entry</span> <span class="o">=</span> <span class="n">readdir</span><span class="p">(</span><span class="n">dir</span><span class="p">))</span> <span class="o">!=</span> <span class="nb">NULL</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="n">count</span> <span class="o">&lt;</span> <span class="mi">255</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">strncmp</span><span class="p">(</span><span class="n">entry</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">,</span> <span class="n">base_part</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">base_part</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">completions</span><span class="p">[</span><span class="o">*</span><span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">strlen</span><span class="p">(</span><span class="n">dir_part</span><span class="p">)</span> <span class="o">+</span> <span class="n">strlen</span><span class="p">(</span><span class="n">entry</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
                        <span class="n">sprintf</span><span class="p">(</span><span class="n">completions</span><span class="p">[</span><span class="o">*</span><span class="n">count</span><span class="p">],</span> <span class="s">"%s/%s"</span><span class="p">,</span> <span class="n">dir_part</span><span class="p">,</span> <span class="n">entry</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">);</span>
                        <span class="p">(</span><span class="o">*</span><span class="n">count</span><span class="p">)</span><span class="o">++</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                <span class="n">closedir</span><span class="p">(</span><span class="n">dir</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">free</span><span class="p">(</span><span class="n">dir_part</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Command completion from PATH</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">path</span> <span class="o">=</span> <span class="n">getenv</span><span class="p">(</span><span class="s">"PATH"</span><span class="p">);</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">path_copy</span> <span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">dir</span> <span class="o">=</span> <span class="n">strtok</span><span class="p">(</span><span class="n">path_copy</span><span class="p">,</span> <span class="s">":"</span><span class="p">);</span>
        
        <span class="k">while</span> <span class="p">(</span><span class="n">dir</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="n">count</span> <span class="o">&lt;</span> <span class="mi">255</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">DIR</span><span class="o">*</span> <span class="n">d</span> <span class="o">=</span> <span class="n">opendir</span><span class="p">(</span><span class="n">dir</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">struct</span> <span class="n">dirent</span><span class="o">*</span> <span class="n">entry</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">((</span><span class="n">entry</span> <span class="o">=</span> <span class="n">readdir</span><span class="p">(</span><span class="n">d</span><span class="p">))</span> <span class="o">!=</span> <span class="nb">NULL</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="n">count</span> <span class="o">&lt;</span> <span class="mi">255</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">strncmp</span><span class="p">(</span><span class="n">entry</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">,</span> <span class="n">partial</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">partial</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">completions</span><span class="p">[</span><span class="o">*</span><span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="n">entry</span><span class="o">-&gt;</span><span class="n">d_name</span><span class="p">);</span>
                        <span class="p">(</span><span class="o">*</span><span class="n">count</span><span class="p">)</span><span class="o">++</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                <span class="n">closedir</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">dir</span> <span class="o">=</span> <span class="n">strtok</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">":"</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">free</span><span class="p">(</span><span class="n">path_copy</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="n">completions</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="main-shell-loop">Main Shell Loop</h2> <h3 id="interactive-shell">Interactive Shell</h3> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">input</span><span class="p">[</span><span class="n">MAX_CMD_LEN</span><span class="p">];</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">line</span><span class="p">;</span>
    
    <span class="c1">// Initialize shell</span>
    <span class="n">init_shell</span><span class="p">();</span>
    
    <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Display prompt</span>
        <span class="n">display_prompt</span><span class="p">();</span>
        
        <span class="c1">// Read input</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">fgets</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">input</span><span class="p">),</span> <span class="n">stdin</span><span class="p">)</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">feof</span><span class="p">(</span><span class="n">stdin</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span> <span class="c1">// EOF (Ctrl+D)</span>
            <span class="p">}</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="c1">// Remove newline</span>
        <span class="n">input</span><span class="p">[</span><span class="n">strcspn</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)]</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>
        
        <span class="c1">// Skip empty input</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">strlen</span><span class="p">(</span><span class="n">input</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
        
        <span class="c1">// Add to history</span>
        <span class="n">add_to_history</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>
        
        <span class="c1">// Expand history if needed</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">expanded</span> <span class="o">=</span> <span class="n">expand_history</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>
        
        <span class="c1">// Tokenize input</span>
        <span class="kt">int</span> <span class="n">token_count</span><span class="p">;</span>
        <span class="n">token_t</span><span class="o">*</span> <span class="n">tokens</span> <span class="o">=</span> <span class="n">tokenize</span><span class="p">(</span><span class="n">expanded</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">token_count</span><span class="p">);</span>
        
        <span class="c1">// Parse commands</span>
        <span class="kt">int</span> <span class="n">cmd_count</span><span class="p">;</span>
        <span class="n">command_t</span><span class="o">*</span> <span class="n">commands</span> <span class="o">=</span> <span class="n">parse_command</span><span class="p">(</span><span class="n">tokens</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">cmd_count</span><span class="p">);</span>
        
        <span class="c1">// Execute commands</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">cmd_count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Single command</span>
            <span class="kt">int</span> <span class="n">builtin_result</span> <span class="o">=</span> <span class="n">execute_builtin</span><span class="p">(</span><span class="n">commands</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">args</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">builtin_result</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// External command</span>
                <span class="n">execute_external</span><span class="p">(</span><span class="o">&amp;</span><span class="n">commands</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">cmd_count</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Pipeline</span>
            <span class="n">execute_pipeline</span><span class="p">(</span><span class="n">commands</span><span class="p">,</span> <span class="n">cmd_count</span><span class="p">);</span>
        <span class="p">}</span>
        
        <span class="c1">// Cleanup</span>
        <span class="n">free_tokens</span><span class="p">(</span><span class="n">tokens</span><span class="p">,</span> <span class="n">token_count</span><span class="p">);</span>
        <span class="n">free_commands</span><span class="p">(</span><span class="n">commands</span><span class="p">,</span> <span class="n">cmd_count</span><span class="p">);</span>
        <span class="n">free</span><span class="p">(</span><span class="n">expanded</span><span class="p">);</span>
        
        <span class="c1">// Check for completed background jobs</span>
        <span class="n">check_background_jobs</span><span class="p">();</span>
    <span class="p">}</span>
    
    <span class="n">cleanup_shell</span><span class="p">();</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">display_prompt</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">cwd</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">user</span> <span class="o">=</span> <span class="n">getenv</span><span class="p">(</span><span class="s">"USER"</span><span class="p">);</span>
    <span class="kt">char</span> <span class="n">hostname</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
    
    <span class="n">getcwd</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">cwd</span><span class="p">));</span>
    <span class="n">gethostname</span><span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">hostname</span><span class="p">));</span>
    
    <span class="c1">// Colorized prompt: user@hostname:cwd$</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\033</span><span class="s">[32m%s</span><span class="se">\033</span><span class="s">[0m@</span><span class="se">\033</span><span class="s">[34m%s</span><span class="se">\033</span><span class="s">[0m:</span><span class="se">\033</span><span class="s">[33m%s</span><span class="se">\033</span><span class="s">[0m$ "</span><span class="p">,</span> 
           <span class="n">user</span> <span class="o">?</span> <span class="n">user</span> <span class="o">:</span> <span class="s">"user"</span><span class="p">,</span> <span class="n">hostname</span><span class="p">,</span> <span class="n">cwd</span><span class="p">);</span>
    <span class="n">fflush</span><span class="p">(</span><span class="n">stdout</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="key-achievements">Key Achievements</h2> <h3 id="shell-functionality">Shell Functionality</h3> <ul> <li> <strong>Complete Command Processing</strong>: Parsing, validation, and execution</li> <li> <strong>Built-in Commands</strong>: 7 essential shell built-ins implemented</li> <li> <strong>I/O Redirection</strong>: Full support for &lt;, &gt;, » operators</li> <li> <strong>Pipeline Support</strong>: Multi-command pipelines with proper process handling</li> <li> <strong>Job Control</strong>: Background/foreground job management</li> </ul> <h3 id="system-programming-excellence">System Programming Excellence</h3> <ul> <li> <strong>Process Management</strong>: Fork/exec model implementation</li> <li> <strong>Signal Handling</strong>: Proper signal management for job control</li> <li> <strong>Memory Management</strong>: Dynamic allocation with proper cleanup</li> <li> <strong>Error Handling</strong>: Comprehensive error detection and reporting</li> </ul> <h3 id="user-experience-enhancement">User Experience Enhancement</h3> <ul> <li> <strong>Command History</strong>: Full history with expansion support</li> <li> <strong>Tab Completion</strong>: File and command completion</li> <li> <strong>Colorized Prompt</strong>: Visual feedback with current directory</li> <li> <strong>Administrative Automation</strong>: Streamlined routine operations</li> </ul> <h2 id="technologies-used">Technologies Used</h2> <ul> <li> <strong>C Programming</strong> for system-level shell implementation</li> <li> <strong>Unix System Calls</strong> for process and file management</li> <li> <strong>POSIX APIs</strong> for portable system programming</li> <li> <strong>Shell Scripting</strong> for automation and configuration</li> <li> <strong>GNU Readline</strong> for advanced input handling (optional enhancement)</li> </ul> <p>The project demonstrates comprehensive understanding of operating system concepts, system programming, process management, and Unix shell design essential for systems administration, DevOps engineering, and low-level software development.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Armin Ziaei. Made with ❤ | Last updated: July 19, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"dropdown-clrs",title:"CLRS",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-project-euler",title:"Project Euler",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-leetcode",title:"LeetCode",description:"",section:"Dropdown",handler:()=>{window.location.href="/blog/"}},{id:"nav-projects",title:"projects",description:"A growing collection of your cool projects.",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-publications",title:"publications",description:"publications by categories in reversed chronological order. generated by jekyll-scholar.",section:"Navigation",handler:()=>{window.location.href="/publications/"}},{id:"nav-cv",title:"cv",description:"I am a DevOps/CloudOps Engineer with a BS in Computer Science from the University of Texas at Dallas. I am skilled in root cause analysis, technical troubleshooting, and automation, and I excel at system management and performance monitoring.",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"post-a-post-with-tabs",title:"a post with tabs",description:"this is what included tabs in a post could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/tabs/"}},{id:"post-a-post-with-typograms",title:"a post with typograms",description:"this is what included typograms code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/typograms/"}},{id:"post-a-post-that-can-be-cited",title:"a post that can be cited",description:"this is what a post that can be cited looks like",section:"Posts",handler:()=>{window.location.href="/blog/2024/post-citation/"}},{id:"post-a-post-with-pseudo-code",title:"a post with pseudo code",description:"this is what included pseudo code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/pseudocode/"}},{id:"post-a-post-with-code-diff",title:"a post with code diff",description:"this is how you can display code diffs",section:"Posts",handler:()=>{window.location.href="/blog/2024/code-diff/"}},{id:"post-a-post-with-advanced-image-components",title:"a post with advanced image components",description:"this is what advanced image components could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/advanced-images/"}},{id:"post-a-post-with-vega-lite",title:"a post with vega lite",description:"this is what included vega lite code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/vega-lite/"}},{id:"post-a-post-with-geojson",title:"a post with geojson",description:"this is what included geojson code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/geojson-map/"}},{id:"post-a-post-with-echarts",title:"a post with echarts",description:"this is what included echarts code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/echarts/"}},{id:"post-a-post-with-chart-js",title:"a post with chart.js",description:"this is what included chart.js code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2024/chartjs/"}},{id:"post-a-post-with-tikzjax",title:"a post with TikZJax",description:"this is what included TikZ code could look like",section:"Posts",handler:()=>{window.location.href="/blog/2023/tikzjax/"}},{id:"post-a-post-with-bibliography",title:"a post with bibliography",description:"an example of a blog post with bibliography",section:"Posts",handler:()=>{window.location.href="/blog/2023/post-bibliography/"}},{id:"post-a-post-with-jupyter-notebook",title:"a post with jupyter notebook",description:"an example of a blog post with jupyter notebook",section:"Posts",handler:()=>{window.location.href="/blog/2023/jupyter-notebook/"}},{id:"post-a-post-with-custom-blockquotes",title:"a post with custom blockquotes",description:"an example of a blog post with custom blockquotes",section:"Posts",handler:()=>{window.location.href="/blog/2023/custom-blockquotes/"}},{id:"post-a-post-with-table-of-contents-on-a-sidebar",title:"a post with table of contents on a sidebar",description:"an example of a blog post with table of contents on a sidebar",section:"Posts",handler:()=>{window.location.href="/blog/2023/sidebar-table-of-contents/"}},{id:"post-a-post-with-audios",title:"a post with audios",description:"this is what included audios could look like",section:"Posts",handler:()=>{window.location.href="/blog/2023/audios/"}},{id:"post-a-post-with-videos",title:"a post with videos",description:"this is what included videos could look like",section:"Posts",handler:()=>{window.location.href="/blog/2023/videos/"}},{id:"post-displaying-beautiful-tables-with-bootstrap-tables",title:"displaying beautiful tables with Bootstrap Tables",description:"an example of how to use Bootstrap Tables",section:"Posts",handler:()=>{window.location.href="/blog/2023/tables/"}},{id:"post-a-post-with-table-of-contents",title:"a post with table of contents",description:"an example of a blog post with table of contents",section:"Posts",handler:()=>{window.location.href="/blog/2023/table-of-contents/"}},{id:"post-a-post-with-giscus-comments",title:"a post with giscus comments",description:"an example of a blog post with giscus comments",section:"Posts",handler:()=>{window.location.href="/blog/2022/giscus-comments/"}},{id:"post-a-post-with-redirect",title:"a post with redirect",description:"you can also redirect to assets like pdf",section:"Posts",handler:()=>{window.location.href="/assets/pdf/example_pdf.pdf"}},{id:"post-a-post-with-diagrams",title:"a post with diagrams",description:"an example of a blog post with diagrams",section:"Posts",handler:()=>{window.location.href="/blog/2021/diagrams/"}},{id:"post-a-distill-style-blog-post",title:"a distill-style blog post",description:"an example of a distill-style blog post and main elements",section:"Posts",handler:()=>{window.location.href="/blog/2021/distill/"}},{id:"post-a-post-with-twitter",title:"a post with twitter",description:"an example of a blog post with twitter",section:"Posts",handler:()=>{window.location.href="/blog/2020/twitter/"}},{id:"post-a-post-with-disqus-comments",title:"a post with disqus comments",description:"an example of a blog post with disqus comments",section:"Posts",handler:()=>{window.location.href="/blog/2015/disqus-comments/"}},{id:"post-a-post-with-math",title:"a post with math",description:"an example of a blog post with some math",section:"Posts",handler:()=>{window.location.href="/blog/2015/math/"}},{id:"post-a-post-with-code",title:"a post with code",description:"an example of a blog post with some code",section:"Posts",handler:()=>{window.location.href="/blog/2015/code/"}},{id:"post-a-post-with-images",title:"a post with images",description:"this is what included images could look like",section:"Posts",handler:()=>{window.location.href="/blog/2015/images/"}},{id:"post-a-post-with-formatting-and-links",title:"a post with formatting and links",description:"march &amp; april, looking forward to summer",section:"Posts",handler:()=>{window.location.href="/blog/2015/formatting-and-links/"}},{id:"projects-32-bit-alu-hardware-architecture",title:"32-Bit ALU Hardware Architecture",description:"Comprehensive 32-bit Arithmetic Logic Unit using Verilog HDL",section:"Projects",handler:()=>{window.location.href="/projects/10_project/"}},{id:"projects-multi-protocol-network-chat-system",title:"Multi-Protocol Network Chat System",description:"Real-time communication system supporting TCP and UDP protocols",section:"Projects",handler:()=>{window.location.href="/projects/11_project/"}},{id:"projects-custom-shell-command-processor",title:"Custom Shell Command Processor",description:"Comprehensive Bash command-line interface in Unix environment",section:"Projects",handler:()=>{window.location.href="/projects/12_project/"}},{id:"projects-halo-collar-activity-recognition",title:"Halo Collar Activity Recognition",description:"GPS and sensor-based machine learning model for canine activity classification",section:"Projects",handler:()=>{window.location.href="/projects/1_project/"}},{id:"projects-distributed-network-communication-protocol",title:"Distributed Network Communication Protocol",description:"CRSP-compliant distributed system with UDP socket programming",section:"Projects",handler:()=>{window.location.href="/projects/2_project/"}},{id:"projects-production-compiler-implementation",title:"Production Compiler Implementation",description:"Complete compiler system with lexical analyzer and parser generator",section:"Projects",handler:()=>{window.location.href="/projects/3_project/"}},{id:"projects-enterprise-task-management-platform",title:"Enterprise Task Management Platform",description:"Full-stack web application with PHP, Apache, and SQL database",section:"Projects",handler:()=>{window.location.href="/projects/4_project/"}},{id:"projects-operating-system-process-simulator",title:"Operating System Process Simulator",description:"Multi-process computer system simulation with IPC communication",section:"Projects",handler:()=>{window.location.href="/projects/5_project/"}},{id:"projects-computer-vision-digit-classification",title:"Computer Vision Digit Classification",description:"Production-ready handwritten digit recognition system for MNIST dataset",section:"Projects",handler:()=>{window.location.href="/projects/6_project/"}},{id:"projects-machine-learning-algorithm-library",title:"Machine Learning Algorithm Library",description:"Comprehensive ML framework with 12 fundamental algorithms",section:"Projects",handler:()=>{window.location.href="/projects/7_project/"}},{id:"projects-prolog-knowledge-representation-system",title:"Prolog Knowledge Representation System",description:"Enterprise-grade question-answering system with first-order logic",section:"Projects",handler:()=>{window.location.href="/projects/8_project/"}},{id:"projects-multi-algorithm-ai-search-engine",title:"Multi-Algorithm AI Search Engine",description:"Sophisticated 8-puzzle solver with four distinct search algorithms",section:"Projects",handler:()=>{window.location.href="/projects/9_project/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%61%72%6D%69%6E.%7A%69%61%65%69.%74%65%63%68@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-github",title:"GitHub",section:"Socials",handler:()=>{window.open("https://github.com/armixz","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/armin-ziaei-9594748b","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>